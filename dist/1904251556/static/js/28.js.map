{"version":3,"sources":["webpack:///src/views/modules/code/codegeneration.vue","webpack:///./src/views/modules/code/codegeneration.vue?c1a2","webpack:///./src/views/modules/code/codegeneration.vue","webpack:///./src/views/modules/code/codegeneration.vue?1cbf","webpack:///./src/views/modules/code/codegeneration.vue?eb26"],"names":["codegeneration","getDataBasesList","getTemplateGroupList","getParams","_this","this","then","_ref","data","dbinfo","_this2","id","_ref2","table","_this3","_ref3","list","_this4","filterTemplateText","_ref4","codetemplate","tableName","chinaName","_this5","codePackage","htmlPackage","jsPackage","xmlPackage","author","entityName","name","encoded","dbName","multipleSelection","response","type","blob","url","fileName","link","click","remove","_this6","_ref5","row","clearSelection","value","groupId","databaseId","_ref6","toLocaleLowerCase","index","code_codegeneration","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","dataForm","label-width","span","label","placeholder","on","change","selectParam","callback","$$v","param","expression","_l","item","key","alias","_v","prop","$set","genCode","filterDataBaseText","staticStyle","width","dataBaseData","filter","toLowerCase","includes","element-loading-text","element-loading-spinner","max-height","border","highlight-current-row","row-class-name","tableRowClassName","stripe","current-change","dataBaseChange","fixed","align","offset","filterDatasheetText","dataSheetData","height","dataSheetChange","formatter","$event","getTemplateList","templateData","tooltip-effect","selection-change","handleSelectionChange","row-click","toggleSelection","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","content","module","i","locals","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/28.js","sourcesContent":["<template>\n  <div class=\"mod-config\">\n    <el-form ref=\"dataForm\" :model=\"dataForm\" label-width=\"80px\">\n      <el-row>\n        <el-col :span=\"6\">\n          <el-form-item label=\"参数\">\n            <el-select v-model=\"param\" placeholder=\"请选择参数\" @change=\"selectParam\">\n              <el-option\n                v-for=\"item in paramsList\"\n                :key=\"item.alias\"\n                :label=\"item.alias\"\n                :value=\"item.id\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item label=\"作者\" prop=\"author\">\n            <el-input v-model=\"dataForm.author\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"genCode\">生成</el-button>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"6\">\n          <el-form-item label=\"Code包名\" prop=\"codePackage\">\n            <el-input v-model=\"dataForm.codePackage\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item label=\"Html包名\" prop=\"htmlPackage\">\n            <el-input v-model=\"dataForm.htmlPackage\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item label=\"JS包名\" prop=\"jsPackage\">\n            <el-input v-model=\"dataForm.jsPackage\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item label=\"XML包名\" prop=\"xmlPackage\">\n            <el-input v-model=\"dataForm.xmlPackage\"></el-input>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"6\">\n          <el-form-item label=\"编码\" prop=\"encoded\">\n            <el-select v-model=\"dataForm.encoded\" placeholder=\"请选择参数\">\n              <el-option label=\"UTF-8\" value=\"UTF-8\"></el-option>\n              <el-option label=\"GBK\" value=\"GBK\"></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item label=\"类名\" prop=\"entityName\">\n            <el-input v-model=\"dataForm.entityName\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item label=\"功能\" prop=\"name\">\n            <el-input v-model=\"dataForm.name\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item label=\"菜单\" prop=\"alias\">\n            <el-input v-model=\"dataForm.alias\"></el-input>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n\n    <el-row>\n      <!--数据库-->\n      <el-col :span=\"7\">\n        <el-input\n          placeholder=\"输入关键字进行过滤\"\n          v-model=\"filterDataBaseText\">\n        </el-input>\n        <el-table :data = \"dataBaseData.filter(data => !filterDataBaseText || data.alias.toLowerCase().includes(filterDataBaseText.toLowerCase()))\"\n                  ref=\"dataBaseTable\"\n                  element-loading-text=\"拼命加载中\"\n                  element-loading-spinner=\"el-icon-loading\"\n                  max-height=\"500\"\n                  border\n                  highlight-current-row\n                  style=\"width: 100%\"\n                  :row-class-name=\"tableRowClassName\"\n                  @current-change=\"dataBaseChange\"\n                  stripe>\n          <el-table-column fixed\n                           prop=\"alias\"\n                           label=\"数据库\"\n                           align=\"center\">\n          </el-table-column>\n        </el-table>\n      </el-col>\n      <!--表-->\n      <el-col :span=\"7\" :offset=\"1\">\n        <el-input\n          placeholder=\"输入关键字进行过滤\"\n          v-model=\"filterDatasheetText\">\n        </el-input>\n        <el-table :data = \"dataSheetData.filter(data => !filterDatasheetText || data.tableName.toLowerCase().includes(filterDatasheetText.toLowerCase()))\"\n                  ref=\"dataSheetTable\"\n                  style=\"width: 100%\"\n                  height=\"500\"\n                  highlight-current-row\n                  @current-change=\"dataSheetChange\"\n                  stripe>\n          <el-table-column fixed\n                           prop=\"tableName\"\n                           :formatter=\"link\"\n                           label=\"数据表\"\n                           align=\"center\">\n          </el-table-column>\n        </el-table>\n      </el-col>\n      <!--模板-->\n      <el-col :span=\"7\" :offset=\"1\">\n        <el-select v-model=\"filterTemplateText\" placeholder=\"请选择\" style=\"width: 100%\" @change=\"getTemplateList(filterTemplateText)\">\n          <el-option\n            v-for=\"item in templateGroupData\"\n            :key=\"item.name\"\n            :label=\"item.name\"\n            :value=\"item.id\">\n          </el-option>\n        </el-select>\n        <el-table ref=\"templateTable\"\n                  :data=\"templateData\"\n                  tooltip-effect=\"dark\"\n                  style=\"width: 100%\"\n                  max-height=\"500\"\n                  @selection-change=\"handleSelectionChange\"\n                  @row-click=\"toggleSelection\"\n                  stripe>\n          <el-table-column type=\"selection\" width=\"55\">\n          </el-table-column>\n          <el-table-column fixed\n                           prop=\"templateName\"\n                           label=\"模板\"\n                           align=\"center\">\n          </el-table-column>\n        </el-table>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        param: {},\n        dataForm: {\n          name: '',\n          author: '',\n          codePackage: '',\n          htmlPackage: '',\n          jsPackage: '',\n          xmlPackage: '',\n          encoded: '',\n          functions: '',\n          entityName: '',\n          id: '',\n          dbName: '',\n          tableName: ''\n        },\n        dataBaseData: [],\n        dataSheetData: [],\n        templateData: [],\n        templateGroupData: [],\n        filterDataBaseText: '',\n        filterDatasheetText: '',\n        filterTemplateText: '',\n        multipleSelection: [],\n        paramsList: []\n      }\n    },\n    activated () {\n      this.getDataBasesList()\n      this.getTemplateGroupList()\n      this.getParams()\n    },\n    methods: {\n      // 获取数据库列表\n      getDataBasesList () {\n        this.$http({\n          url: this.$http.adornUrl('/codedbinfo/all'),\n          method: 'get'\n        }).then(({data}) => {\n          this.dataBaseData = data.dbinfo\n        })\n      },\n      // 获取数据表列表\n      getDataSheetsList (id) {\n        this.$http({\n          url: this.$http.adornUrl('/code/getTables'),\n          method: 'get',\n          params: {\n            dbinfoId: id\n          }\n        }).then(({data}) => {\n          this.dataSheetData = data.table\n        })\n      },\n      // 获取模板组列表\n      getTemplateGroupList () {\n        this.$http({\n          url: this.$http.adornUrl('/codetemplategroup/all'),\n          method: 'get'\n        }).then(({data}) => {\n          console.log(data)\n          this.templateGroupData = data.list\n        })\n      },\n      // 获取模板列表\n      getTemplateList (filterTemplateText) {\n        this.$http({\n          url: this.$http.adornUrl('/codetemplate/all'),\n          method: 'get',\n          params: {\n            groupId: filterTemplateText\n          }\n        }).then(({data}) => {\n          this.templateData = data.codetemplate\n        })\n      },\n      // 点击数据库显示数据表\n      dataBaseChange (selected) {\n        this.dataForm.id = selected.id\n        this.getDataSheetsList(selected.id)\n      },\n      // 点击数据库显示数据表\n      dataSheetChange (selected) {\n        // 选择数据库\n        this.dataForm.tableName = selected.tableName\n        this.dataForm.entityName = this.getClassName(selected.tableName)\n        this.dataForm.name = selected.chinaName\n      },\n      link (row, column) {\n        return row.tableName + ' - ' + row.chinaName\n      },\n      handleSelectionChange (val) {\n        this.multipleSelection = []\n        for (let i = 0; i < val.length; i++) {\n          this.multipleSelection.push(val[i].id)\n        }\n      },\n      // 生成模板\n      genCode () {\n        this.$refs['dataForm'].validate((valid) => {\n          if (valid) {\n            this.$axios({\n              url: this.$http.adornUrl(`/code/genCode?token=${this.$cookie.get('token')}`),\n              method: 'post',\n              // timeout: 100000,\n              responseType: 'blob',\n              data: {\n                'codeDbinfoEntity': {\n                  'id': this.dataForm.id\n                },\n                'generationEntity': {\n                  'codePackage': this.dataForm.codePackage,\n                  'htmlPackage': this.dataForm.htmlPackage,\n                  'jsPackage': this.dataForm.jsPackage,\n                  'xmlPackage': this.dataForm.xmlPackage,\n                  'author': this.dataForm.author,\n                  'entityName': this.dataForm.entityName,\n                  'name': this.dataForm.name,\n                  'tableName': this.dataForm.tableName\n                },\n                'encoded': this.dataForm.encoded,\n                'dbName': this.dataForm.dbName,\n                'templates': this.multipleSelection\n              }\n            }).then((response) => {\n              console.log(response)\n              const blob = new Blob([response.data], {type: response.data.type})\n              const url = window.URL.createObjectURL(blob)\n              const link = document.createElement('a')\n              link.href = url\n              let name = decodeURI(response.headers['name'])\n              let fileName = 'unknown'\n              if (name) {\n                fileName = decodeURI(name)\n              }\n              link.setAttribute('download', fileName)\n              document.body.appendChild(link)\n              link.click()\n              link.remove()\n              window.URL.revokeObjectURL(url)\n            })\n           /* this.$http({\n              url: this.$http.adornUrl(`/code/genCode`),\n              method: 'post',\n              data: this.$http.adornData({\n                'codeDbinfoEntity': {\n                  'id': this.dataForm.id\n                },\n                'generationEntity': {\n                  'codePackage': this.dataForm.codePackage,\n                  'htmlPackage': this.dataForm.htmlPackage,\n                  'jsPackage': this.dataForm.jsPackage,\n                  'xmlPackage': this.dataForm.xmlPackage,\n                  'author': this.dataForm.author,\n                  'entityName': this.dataForm.entityName,\n                  'name': this.dataForm.functions,\n                  'tableName': this.dataForm.tableName\n                },\n                'encoded': this.dataForm.encoded,\n                'dbName': this.dataForm.dbName,\n                'templates': this.multipleSelection\n              })\n            }).then(({data}) => {\n              if (data && data.code === 0) {\n                this.$message({\n                  message: '操作成功',\n                  type: 'success',\n                  duration: 1500,\n                  onClose: () => {\n                    alert('done!')\n                  }\n                })\n              } else {\n                this.$message.error(data.msg)\n              }\n            }) */\n          }\n        })\n      },\n      // 获取参数\n      getParams () {\n        this.$http({\n          url: this.$http.adornUrl('/codegenparams/all'),\n          method: 'get'\n        }).then(({data}) => {\n          this.paramsList = data.list\n        })\n      },\n      toggleSelection (row) {\n        if (row) {\n          this.$refs.templateTable.toggleRowSelection(row)\n        } else {\n          this.$refs.templateTable.clearSelection()\n        }\n      },\n      selectParam (value) {\n        const _item = this.paramsList.find(item => item.id === value)\n        this.dataForm.author = _item.author\n        this.dataForm.codePackage = _item.codePackage\n        this.dataForm.htmlPackage = _item.htmlPackage\n        this.dataForm.jsPackage = _item.jsPackage\n        this.dataForm.xmlPackage = _item.xmlPackage\n        this.dataForm.encoded = _item.encoded\n        this.filterTemplateText = _item.groupId\n        this.getTemplateList(_item.groupId)\n        this.dataForm.id = _item.databaseId\n        this.getDataSheetsList(_item.databaseId)\n      },\n      tableRowClassName ({row, rowIndex}) {\n        if (rowIndex === 1) {\n          return 'warning-row'\n        } else if (rowIndex === 3) {\n          return 'success-row'\n        }\n        return ''\n      },\n      // 生成类名\n      getClassName (className) {\n        let tableName = className.toLocaleLowerCase()\n        let index = 0\n        let humpName = ''\n        while ((index = tableName.indexOf('_')) !== -1) {\n          humpName += tableName.substring(0, index)\n          tableName = tableName.substring(index + 1, index + 2).toUpperCase() + tableName.substring(index + 2)\n        }\n        humpName += tableName\n        humpName = humpName.substring(0, 1).toUpperCase() + humpName.substring(1)\n        return humpName\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n  .el-table--enable-row-hover .el-table__body tr:hover>td{\n    background-color: #cd4f49;\n  }\n  .el-table__body tr.current-row>td {\n    background: #f57878 !important;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/modules/code/codegeneration.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mod-config\"},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"label-width\":\"80px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"参数\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择参数\"},on:{\"change\":_vm.selectParam},model:{value:(_vm.param),callback:function ($$v) {_vm.param=$$v},expression:\"param\"}},_vm._l((_vm.paramsList),function(item){return _c('el-option',{key:item.alias,attrs:{\"label\":item.alias,\"value\":item.id}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"作者\",\"prop\":\"author\"}},[_c('el-input',{model:{value:(_vm.dataForm.author),callback:function ($$v) {_vm.$set(_vm.dataForm, \"author\", $$v)},expression:\"dataForm.author\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.genCode}},[_vm._v(\"生成\")])],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"Code包名\",\"prop\":\"codePackage\"}},[_c('el-input',{model:{value:(_vm.dataForm.codePackage),callback:function ($$v) {_vm.$set(_vm.dataForm, \"codePackage\", $$v)},expression:\"dataForm.codePackage\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"Html包名\",\"prop\":\"htmlPackage\"}},[_c('el-input',{model:{value:(_vm.dataForm.htmlPackage),callback:function ($$v) {_vm.$set(_vm.dataForm, \"htmlPackage\", $$v)},expression:\"dataForm.htmlPackage\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"JS包名\",\"prop\":\"jsPackage\"}},[_c('el-input',{model:{value:(_vm.dataForm.jsPackage),callback:function ($$v) {_vm.$set(_vm.dataForm, \"jsPackage\", $$v)},expression:\"dataForm.jsPackage\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"XML包名\",\"prop\":\"xmlPackage\"}},[_c('el-input',{model:{value:(_vm.dataForm.xmlPackage),callback:function ($$v) {_vm.$set(_vm.dataForm, \"xmlPackage\", $$v)},expression:\"dataForm.xmlPackage\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"编码\",\"prop\":\"encoded\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择参数\"},model:{value:(_vm.dataForm.encoded),callback:function ($$v) {_vm.$set(_vm.dataForm, \"encoded\", $$v)},expression:\"dataForm.encoded\"}},[_c('el-option',{attrs:{\"label\":\"UTF-8\",\"value\":\"UTF-8\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"GBK\",\"value\":\"GBK\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"类名\",\"prop\":\"entityName\"}},[_c('el-input',{model:{value:(_vm.dataForm.entityName),callback:function ($$v) {_vm.$set(_vm.dataForm, \"entityName\", $$v)},expression:\"dataForm.entityName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"功能\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.dataForm.name),callback:function ($$v) {_vm.$set(_vm.dataForm, \"name\", $$v)},expression:\"dataForm.name\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"菜单\",\"prop\":\"alias\"}},[_c('el-input',{model:{value:(_vm.dataForm.alias),callback:function ($$v) {_vm.$set(_vm.dataForm, \"alias\", $$v)},expression:\"dataForm.alias\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":7}},[_c('el-input',{attrs:{\"placeholder\":\"输入关键字进行过滤\"},model:{value:(_vm.filterDataBaseText),callback:function ($$v) {_vm.filterDataBaseText=$$v},expression:\"filterDataBaseText\"}}),_vm._v(\" \"),_c('el-table',{ref:\"dataBaseTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataBaseData.filter(function (data) { return !_vm.filterDataBaseText || data.alias.toLowerCase().includes(_vm.filterDataBaseText.toLowerCase()); }),\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"max-height\":\"500\",\"border\":\"\",\"highlight-current-row\":\"\",\"row-class-name\":_vm.tableRowClassName,\"stripe\":\"\"},on:{\"current-change\":_vm.dataBaseChange}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"alias\",\"label\":\"数据库\",\"align\":\"center\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7,\"offset\":1}},[_c('el-input',{attrs:{\"placeholder\":\"输入关键字进行过滤\"},model:{value:(_vm.filterDatasheetText),callback:function ($$v) {_vm.filterDatasheetText=$$v},expression:\"filterDatasheetText\"}}),_vm._v(\" \"),_c('el-table',{ref:\"dataSheetTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataSheetData.filter(function (data) { return !_vm.filterDatasheetText || data.tableName.toLowerCase().includes(_vm.filterDatasheetText.toLowerCase()); }),\"height\":\"500\",\"highlight-current-row\":\"\",\"stripe\":\"\"},on:{\"current-change\":_vm.dataSheetChange}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"tableName\",\"formatter\":_vm.link,\"label\":\"数据表\",\"align\":\"center\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7,\"offset\":1}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\"},on:{\"change\":function($event){_vm.getTemplateList(_vm.filterTemplateText)}},model:{value:(_vm.filterTemplateText),callback:function ($$v) {_vm.filterTemplateText=$$v},expression:\"filterTemplateText\"}},_vm._l((_vm.templateGroupData),function(item){return _c('el-option',{key:item.name,attrs:{\"label\":item.name,\"value\":item.id}})})),_vm._v(\" \"),_c('el-table',{ref:\"templateTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.templateData,\"tooltip-effect\":\"dark\",\"max-height\":\"500\",\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange,\"row-click\":_vm.toggleSelection}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"templateName\",\"label\":\"模板\",\"align\":\"center\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-28fe765f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/modules/code/codegeneration.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.0@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-28fe765f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector?type=styles&index=0!./codegeneration.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector?type=script&index=0!./codegeneration.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-28fe765f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector?type=template&index=0!./codegeneration.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-28fe765f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/modules/code/codegeneration.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.0@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-28fe765f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./codegeneration.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"0e07b2b4\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.0@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.0.1@vue-style-loader!./node_modules/_css-loader@0.28.0@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.3.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-28fe765f\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/modules/code/codegeneration.vue\n// module id = 8wyE\n// module chunks = 28","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.0@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.el-table--enable-row-hover .el-table__body tr:hover>td[data-v-28fe765f]{\\n  background-color: #cd4f49;\\n}\\n.el-table__body tr.current-row>td[data-v-28fe765f] {\\n  background: #f57878 !important;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zhangheng/git/Apollo/Catsby-vue/src/views/modules/code/codegeneration.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,0BAA0B;CAC3B;AACD;EACE,+BAA+B;CAChC\",\"file\":\"codegeneration.vue\",\"sourcesContent\":[\"\\n.el-table--enable-row-hover .el-table__body tr:hover>td[data-v-28fe765f]{\\n  background-color: #cd4f49;\\n}\\n.el-table__body tr.current-row>td[data-v-28fe765f] {\\n  background: #f57878 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.0@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.3.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-28fe765f\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/modules/code/codegeneration.vue\n// module id = SMCS\n// module chunks = 28"],"sourceRoot":""}