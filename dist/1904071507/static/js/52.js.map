{"version":3,"sources":["webpack:///src/views/modules/code/codedbinfo-add-update.vue","webpack:///./src/views/modules/code/codedbinfo-add-update.vue?a9bb","webpack:///./src/views/modules/code/codedbinfo-add-update.vue"],"names":["code_codedbinfo_add_update","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","title","dataForm","id","close-on-click-modal","visible","element-loading-text","element-loading-spinner","element-loading-background","center","on","update:visible","$event","ref","model","rules","dataRule","label-width","nativeOn","keyup","_k","keyCode","key","dataFormSubmit","span","label","prop","placeholder","callback","$$v","$set","_v","_l","item","type","slot","click","changePass","width","height","staticClass","testDataBasesConnect","staticRenderFns","Component","__webpack_require__","normalizeComponent","required","message","trigger","_this","resetFields","adornUrl","then","_ref","data","_this2","_ref2","msg","_this3","dbDriver","dbUrl","dbUserName","dbPassword","dbType","_ref3","__webpack_exports__"],"mappings":"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","file":"static/js/52.js","sourcesContent":["<template>\n  <el-dialog\n    :title=\"!dataForm.id ? '新增' : '修改'\"\n    :close-on-click-modal=\"false\"\n    :visible.sync=\"visible\"\n    v-loading=\"loading\"\n    element-loading-text=\"拼命连接数据库中\"\n    element-loading-spinner=\"el-icon-loading\"\n    element-loading-background=\"rgba(0, 0, 0, 0)\"\n    center>\n    <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" @keyup.enter.native=\"dataFormSubmit()\" label-width=\"100px\">\n      <el-row>\n        <el-col :span=\"14\">\n          <el-form-item label=\"别名\" prop=\"alias\">\n            <el-input v-model=\"dataForm.alias\" placeholder=\"别名\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"10\">\n          <el-form-item label=\"数据库类型\" prop=\"dbType\">\n            <el-select v-model=\"dataForm.dbType\" placeholder=\"数据库类型\">\n              <el-option\n                v-for=\"item in dataForm.options\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n      </el-row>\n<!--        <el-form-item label=\"数据库驱动\" prop=\"dbDriver\">\n            <el-input v-model=\"dataForm.dbDriver\" placeholder=\"数据库驱动\"></el-input>\n        </el-form-item>-->\n        <el-form-item label=\"数据库地址\" prop=\"dbUrl\">\n            <el-input v-model=\"dataForm.dbUrl\" placeholder=\"数据库地址\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"数据库账户\" prop=\"dbUserName\">\n            <el-input v-model=\"dataForm.dbUserName\" placeholder=\"数据库账户\"></el-input>\n        </el-form-item>\n<!--        <el-form-item label=\"连接密码\" prop=\"dbPassword\">\n            <el-input v-model=\"dataForm.dbPassword\" placeholder=\"连接密码\">\n            </el-input>\n        </el-form-item>-->\n\n      <el-form-item v-if=\"visibleP\" label=\"连接密码\">\n        <el-input type=\"password\" v-model=\"dataForm.dbPassword\" placeholder=\"请输入连接密码\">\n          <el-button slot=\"append\" @click=\"changePass('show')\"><icon-svg name='xianshimima' width='20px' height='20px'></icon-svg></el-button>\n            <!--<icon-svg slot=\"suffix\" title=\"显示密码\" @click=\"changePass('show')\" style=\"cursor:pointer;\" name='xianshi'></icon-svg>-->\n        </el-input>\n      </el-form-item>\n      <el-form-item v-else label=\"连接密码\">\n        <el-input type=\"text\" v-model=\"dataForm.dbPassword\" placeholder=\"请输入连接密码\">\n          <el-button slot=\"append\" @click=\"changePass('hide')\"><icon-svg name='buxianshimima'></icon-svg></el-button>\n          <!--<icon-svg slot=\"suffix\" title=\"隐藏密码\" @click=\"changePass('hide')\" style=\"cursor:pointer;\" name='yincang'></icon-svg>-->\n        </el-input>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"success\" @click=\"testDataBasesConnect()\">测试</el-button>\n      <el-button @click=\"visible = false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"dataFormSubmit()\">确定</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        visible: false,\n        visibleP: true,\n        dataForm: {\n          dbDriver: '',\n          dbUrl: '',\n          dbUserName: '',\n          dbPassword: '',\n          userId: '',\n          dbType: '',\n          crtUserId: '',\n          crtTime: '',\n          mdfUserId: '',\n          mdfTime: '',\n          options: [{\n            value: 'oracle',\n            label: 'oracle'\n          }, {\n            value: 'mysql',\n            label: 'mysql'\n          }]\n        },\n        loading: false,\n        dataRule: {\n          alias: [\n              { required: true, message: '不能为空', trigger: 'blur' }\n          ],\n          dbDriver: [\n              { required: true, message: '不能为空', trigger: 'blur' }\n          ],\n          dbUrl: [\n              { required: true, message: '不能为空', trigger: 'blur' }\n          ],\n          dbUserName: [\n              { required: true, message: '不能为空', trigger: 'blur' }\n          ],\n          dbPassword: [\n              { required: true, message: '不能为空', trigger: 'blur' }\n          ],\n          dbType: [\n              { required: true, message: '不能为空', trigger: 'blur' }\n          ]\n        }\n      }\n    },\n    methods: {\n      init (id) {\n        this.dataForm.id = id || 0\n        this.visible = true\n        this.$nextTick(() => {\n          this.$refs['dataForm'].resetFields()\n          if (this.dataForm.id) {\n            this.$http({\n              url: this.$http.adornUrl(`/codedbinfo/info`),\n              method: 'get',\n              params: this.$http.adornParams({\n                'id': this.dataForm.id\n              })\n            }).then(({data}) => {\n              if (data && data.code === 0) {\n                for (let key in data.codedbinfo) {\n                  if (data.codedbinfo[key]) {\n                    this.dataForm[key] = data.codedbinfo[key]\n                  }\n                }\n              }\n            })\n          }\n        })\n      },\n      // 表单提交\n      dataFormSubmit () {\n        this.$refs['dataForm'].validate((valid) => {\n          if (valid) {\n            this.$http.post(this.$http.adornUrl(`/codedbinfo/${!this.dataForm.id ? 'add' : 'update'}`), this.$http.adornData(this.dataForm)).then(({data}) => {\n              if (data && data.code === 0) {\n                this.$message({\n                  message: '操作成功',\n                  type: 'success',\n                  duration: 1500,\n                  onClose: () => {\n                    this.visible = false\n                    this.$emit('refreshDataList')\n                  }\n                })\n              } else {\n                this.$message.error(data.msg)\n              }\n            })\n          }\n        })\n      },\n      testDataBasesConnect () {\n        this.loading = true\n        this.$refs['dataForm'].validate((valid) => {\n          if (valid) {\n            this.$http({\n              url: this.$http.adornUrl(`/codedbinfo/test`),\n              method: 'post',\n              data: this.$http.adornData({\n                'dbDriver': this.dataForm.dbDriver,\n                'dbUrl': this.dataForm.dbUrl,\n                'dbUserName': this.dataForm.dbUserName,\n                'dbPassword': this.dataForm.dbPassword,\n                'dbType': this.dataForm.dbType\n              })\n            }).then(({data}) => {\n              if (data && data.code === 0) {\n                if (data.flag) {\n                  this.loading = false\n                  this.$message({\n                    message: '测试连接成功',\n                    type: 'success',\n                    duration: 1500\n                    // onClose: () => {\n                    //   this.visible = false\n                    //   // this.$emit('refreshDataList')\n                    // }\n                  })\n                } else {\n                  this.$message({\n                    message: '测试连接失败',\n                    type: 'success',\n                    duration: 1500,\n                    onClose: () => {\n                      this.visible = false\n                      // this.$emit('refreshDataList')\n                    }\n                  })\n                }\n              } else {\n                this.$message.error(data.msg)\n              }\n            })\n          }\n        })\n      },\n      changePass (value) {\n        // 判断渲染，true:暗文显示，false:明文显示\n        this.visibleP = !(value === 'show')\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/modules/code/codedbinfo-add-update.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"title\":!_vm.dataForm.id ? '新增' : '修改',\"close-on-click-modal\":false,\"visible\":_vm.visible,\"element-loading-text\":\"拼命连接数据库中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0)\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"rules\":_vm.dataRule,\"label-width\":\"100px\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.dataFormSubmit()}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":14}},[_c('el-form-item',{attrs:{\"label\":\"别名\",\"prop\":\"alias\"}},[_c('el-input',{attrs:{\"placeholder\":\"别名\"},model:{value:(_vm.dataForm.alias),callback:function ($$v) {_vm.$set(_vm.dataForm, \"alias\", $$v)},expression:\"dataForm.alias\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"数据库类型\",\"prop\":\"dbType\"}},[_c('el-select',{attrs:{\"placeholder\":\"数据库类型\"},model:{value:(_vm.dataForm.dbType),callback:function ($$v) {_vm.$set(_vm.dataForm, \"dbType\", $$v)},expression:\"dataForm.dbType\"}},_vm._l((_vm.dataForm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数据库地址\",\"prop\":\"dbUrl\"}},[_c('el-input',{attrs:{\"placeholder\":\"数据库地址\"},model:{value:(_vm.dataForm.dbUrl),callback:function ($$v) {_vm.$set(_vm.dataForm, \"dbUrl\", $$v)},expression:\"dataForm.dbUrl\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数据库账户\",\"prop\":\"dbUserName\"}},[_c('el-input',{attrs:{\"placeholder\":\"数据库账户\"},model:{value:(_vm.dataForm.dbUserName),callback:function ($$v) {_vm.$set(_vm.dataForm, \"dbUserName\", $$v)},expression:\"dataForm.dbUserName\"}})],1),_vm._v(\" \"),(_vm.visibleP)?_c('el-form-item',{attrs:{\"label\":\"连接密码\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入连接密码\"},model:{value:(_vm.dataForm.dbPassword),callback:function ($$v) {_vm.$set(_vm.dataForm, \"dbPassword\", $$v)},expression:\"dataForm.dbPassword\"}},[_c('el-button',{attrs:{\"slot\":\"append\"},on:{\"click\":function($event){_vm.changePass('show')}},slot:\"append\"},[_c('icon-svg',{attrs:{\"name\":\"xianshimima\",\"width\":\"20px\",\"height\":\"20px\"}})],1)],1)],1):_c('el-form-item',{attrs:{\"label\":\"连接密码\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入连接密码\"},model:{value:(_vm.dataForm.dbPassword),callback:function ($$v) {_vm.$set(_vm.dataForm, \"dbPassword\", $$v)},expression:\"dataForm.dbPassword\"}},[_c('el-button',{attrs:{\"slot\":\"append\"},on:{\"click\":function($event){_vm.changePass('hide')}},slot:\"append\"},[_c('icon-svg',{attrs:{\"name\":\"buxianshimima\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.testDataBasesConnect()}}},[_vm._v(\"测试\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dataFormSubmit()}}},[_vm._v(\"确定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-78953082\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/modules/code/codedbinfo-add-update.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector?type=script&index=0!./codedbinfo-add-update.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-78953082\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector?type=template&index=0!./codedbinfo-add-update.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/modules/code/codedbinfo-add-update.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}